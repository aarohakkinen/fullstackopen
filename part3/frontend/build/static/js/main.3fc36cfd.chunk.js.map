{"version":3,"sources":["components/Filter.js","components/Form.js","components/Notification.js","components/Numbers.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilterChange","onChange","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","type","Notification","successMessage","errorMessage","className","Numbers","filteredPersons","removePerson","map","person","key","name","number","onClick","baseUrl","axios","get","then","response","data","nameObject","post","delete","id","put","App","useState","filter","setFilter","persons","setPersons","setNewName","setNewNumber","setSuccessMessage","setErrorMessage","useEffect","personService","event","target","preventDefault","existing","find","x","window","confirm","setTimeout","catch","error","concat","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3fc36cfd.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ handleFilterChange }) => (\n\t<div>\n        filter shown with <input onChange={handleFilterChange} />\n\t</div>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst Form = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => (\n\t<form onSubmit={addPerson}>\n\t\t<div>\n            name: <input value={newName} onChange={handleNameChange} />\n\t\t</div>\n\t\t<div>\n            number: <input value={newNumber} onChange={handleNumberChange} />\n\t\t</div>\n\t\t<div>\n\t\t\t<button type=\"submit\">add</button>\n\t\t</div>\n\t</form>\n);\n\nexport default Form;\n","import React from \"react\";\n\nconst Notification = ({ successMessage, errorMessage }) => {\n\tif (successMessage !== null) {\n\t\treturn <div className=\"success\">{successMessage}</div>;\n\t} else if (errorMessage !== null) {\n\t\treturn <div className=\"error\">{errorMessage}</div>;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Numbers = ({ filteredPersons, removePerson }) =>\n\tfilteredPersons().map(person => (\n\t\t<div key={person.name}>\n\t\t\t{person.name} {person.number}\n\t\t\t<button onClick={() => removePerson(person)}>delete</button>\n\t\t</div>\n\t));\n\nexport default Numbers;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst fetch = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then(response => response.data);\n};\n\nconst add = nameObject => {\n\tconst request = axios.post(baseUrl, nameObject);\n\treturn request.then(response => response.data);\n};\n\nconst remove = nameObject => {\n\tconst request = axios.delete(`${baseUrl}/${nameObject.id}`);\n\treturn request.then(response => response.data);\n};\n\nconst update = nameObject => {\n\tconst request = axios.put(`${baseUrl}/${nameObject.id}`, nameObject);\n\treturn request.then(response => response.data);\n};\n\nexport default { fetch, add, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form\";\nimport Notification from \"./components/Notification\";\nimport Numbers from \"./components/Numbers\";\nimport personService from \"./services/persons\";\nimport \"./index.css\";\n\nconst App = () => {\n\tconst [filter, setFilter] = useState(\"\");\n\tconst [persons, setPersons] = useState([]);\n\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\n\tconst [successMessage, setSuccessMessage] = useState(null);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tpersonService.fetch().then(response => {\n\t\t\tsetPersons(response);\n\t\t});\n\t}, []);\n\n\tconst handleNameChange = event => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = event => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleFilterChange = event => {\n\t\tsetFilter(event.target.value);\n\t};\n\n\tconst addPerson = event => {\n\t\tevent.preventDefault();\n\t\tconst existing = persons.find(x => x.name === newName);\n\n\t\tif (existing) {\n\t\t\tconst answer = window.confirm(\n\t\t\t\texisting.name +\n          \" is already added to phonebook, replace the old number with a new one?\"\n\t\t\t);\n\n\t\t\tif (answer) {\n\t\t\t\texisting.number = newNumber;\n\t\t\t\tpersonService\n\t\t\t\t\t.update(existing)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tsetPersons(persons.map(x => (x.id !== existing.id ? x : existing)));\n\t\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\t\tsetNewNumber(\"\");\n\n\t\t\t\t\t\tsetSuccessMessage(`${existing.name} has been successfully updated`);\n\t\t\t\t\t\tsetTimeout(() => setSuccessMessage(null), 5000);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\t\tsetNewNumber(\"\");\n\n\t\t\t\t\t\tsetErrorMessage(error.response.data.error);\n\t\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconst person = { name: newName, number: newNumber };\n\t\t\tpersonService\n\t\t\t\t.add(person)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetPersons(persons.concat(response));\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewNumber(\"\");\n\n\t\t\t\t\tsetSuccessMessage(`${person.name} has been successfully added`);\n\t\t\t\t\tsetTimeout(() => setSuccessMessage(null), 5000);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorMessage(error.response.data.error);\n\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst removePerson = person => {\n\t\tif (window.confirm(\"Delete \" + person.name + \"?\")) {\n\t\t\tpersonService\n\t\t\t\t.remove(person)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter(x => x.id !== person.id));\n\t\t\t\t\tsetSuccessMessage(`${person.name} has been successfully removed`);\n\t\t\t\t\tsetTimeout(() => setSuccessMessage(null), 5000);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetPersons(persons.filter(x => x.id !== person.id));\n\t\t\t\t\tsetErrorMessage(error.response.data.error);\n\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst filteredPersons = () => {\n\t\tif (filter) {\n\t\t\treturn persons.filter(person =>\n\t\t\t\tperson.name.toLowerCase().includes(filter.toLowerCase())\n\t\t\t);\n\t\t} else {\n\t\t\treturn persons;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification\n\t\t\t\tsuccessMessage={successMessage}\n\t\t\t\terrorMessage={errorMessage}\n\t\t\t/>\n\t\t\t<Filter handleFilterChange={handleFilterChange} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<Form\n\t\t\t\taddPerson={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Numbers filteredPersons={filteredPersons} removePerson={removePerson} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}